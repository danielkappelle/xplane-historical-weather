<div class="container">
  <div class="jumbotron mt-3">
    <h1>X-Plane 11 Historical weather data</h1>
    <h2>1. Download METAR files</h2>
    <p>Head over to <a href="https://mesonet.agron.iastate.edu/request/download.phtml" target="_NEW">this website</a>
      and download the
      files you want.</p>
    <p>
      Select settings as follows:
    </p>
    <ul>
      <li><strong>Select network</strong> Basically select the country.<br>
        <span class="text-muted">It's not possible to select multiple countries
          at once. If you want more countries, just repeat this process for each country and upload all those files in
          step 2. They will then be combined into one .rwx file</span></li>
      <li>
        <strong>Select stations</strong> Whichever stations you want, I'd suggest just selecting all.
      </li>
      <li>
        <strong>Select from available data</strong> Leave this at <em>All Available</em>
      </li>
      <li>
        <strong>Date range</strong> This is where you specify which dates you want to have
      </li>
      <li>
        <strong>Timezone</strong> I'm assuming this must be UTC (this needs to be checked, let me know if this is
        correct)
      </li>
      <li>
        <strong>Download options</strong> Leave everything at default, except for <em>View result data in web
          browser</em>, change this to <em>Save result data to file on computer</em>
      </li>
      <li>
        <strong>Limit report types</strong> Leave this as is
      </li>
      <li>
        <strong>Get data</strong> Get your data!
      </li>
    </ul>

    <h2>2. Upload METAR files</h2>
    <form>
      <input type="file" multiple (change)="fileChanged($event)" class="mb-3">
    </form>
    <div class="card mb-3" *ngIf="files?.length">
      <div class="card-body">
        <ul>
          <li *ngFor="let file of files">{{file.name}} - {{file.size | fileSize}} - <a [routerLink]=""
              (click)="$event.stopPropagation(); removeFile(file)">[Remove]</a></li>
        </ul>
      </div>
    </div>

    <h2>3. Convert</h2>
    <p *ngIf="!files || !files.length">Please upload metar files first</p>
    <button class="btn btn-primary mb-3" *ngIf="files?.length" (click)="convert()">Convert!</button>

    <h2>4. Download</h2>
    <p *ngIf="!rwxFile">Please convert first</p>
    <p *ngIf="rwxFile">Download your .rwx file</p>
    <button class="btn btn-primary" *ngIf="rwxFile" (click)="download()">Download!</button>

    <h2>5. Load in X-Plane</h2>
    <p>
      <strong>First</strong> set the date and time in X-Plane according your selected date range. <strong>After
        this</strong>, you can go to the weather settings and choose to load a METAR file. This is where you can choose
      the file you just downloaded.
    </p>
    <p class="text-muted">It seems you need to re-select the METAR file after you've changed the time manually.</p>

    <h4>About</h4>
    <p>February 9th, 2020, hurricane Ciara put me in quite a shake as my plane from Spain landed at Schiphol airport. I
      wanted to be able to attempt that landing in X-Plane 11 with the same weather, so I needed a way to get the
      weather in. I found that there was no proper way to do it, although I did find the website from <em>Iowa State
        University</em> which had historical METAR files.</p>
    <p>Hopefully, this tool helps you flying in historical weather! Happy flying âœˆ</p>
    <p>Please, post any questions, issues, PRs on <a href="https://github.com/danielkappelle/xplane-historical-weather"
        target="_NEW">Github</a>.</p>
    <p><span class="text-muted">Daniel Kappelle - 2020</span></p>
  </div>
</div>